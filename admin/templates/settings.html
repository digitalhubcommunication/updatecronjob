{% extends "base.html" %}
{% block content %}
<div class="max-w-3xl mx-auto mt-10 bg-white p-6 rounded-2xl shadow-md sm:p-8">
    <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-gray-800">Account Settings</h2>

    <!-- Profile Info -->
    <div class="mb-8">
        <h3 class="text-xl font-semibold mb-3 text-gray-700">Profile Information</h3>
        <div class="space-y-1 text-gray-600">
            <p><span class="font-medium">Name:</span> {{ session['user_name'] }}</p>
            <p><span class="font-medium">Email:</span> (hidden for now)</p>
        </div>
    </div>

    <!-- Password Update Form -->
    <div>
        <h3 class="text-xl font-semibold mb-3 text-gray-700">Change Password</h3>
        {% if message %}
            <div class="mb-4 p-3 rounded-lg bg-green-100 text-green-800 border border-green-300">
                {{ message }}
            </div>
        {% elif error %}
            <div class="mb-4 p-3 rounded-lg bg-red-100 text-red-800 border border-red-300">
                {{ error }}
            </div>
        {% endif %}
        <form method="POST" action="{{ url_for('settings') }}" class="space-y-5">
            <div>
                <label class="block mb-1 font-medium text-gray-700">Current Password</label>
                <input type="password" name="current_password" class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring focus:border-blue-500" required>
            </div>
            <div>
                <label class="block mb-1 font-medium text-gray-700">New Password</label>
                <input type="password" name="new_password" class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring focus:border-blue-500" required>
            </div>
            <div>
                <label class="block mb-1 font-medium text-gray-700">Confirm New Password</label>
                <input type="password" name="confirm_password" class="w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring focus:border-blue-500" required>
            </div>
            <button type="submit" class="w-full bg-blue-600 text-white py-2.5 rounded-lg text-center font-semibold hover:bg-blue-700 transition-colors">
                Update Password
            </button>
        </form>
    </div>
</div>
{% endblock %}
